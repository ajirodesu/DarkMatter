# XDG Desktop Portal
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# QT
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1

# GDK
env = GDK_SCALE,1

# Toolkit Backend
env = GDK_BACKEND,wayland,x11,*
env = CLUTTER_BACKEND,wayland

# Mozilla
env = MOZ_ENABLE_WAYLAND,1

# Set the cursor size for xcursor
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

# Ozone
env = OZONE_PLATFORM,wayland
env = ELECTRON_OZONE_PLATFORM_HINT,wayland

# XWayland
xwayland {
  force_zero_scaling = true
}

# Polkit and authentication
# Using polkit-kde-authentication-agent-1
env = SSH_ASKPASS_REQUIRE,never

# GTK Environment Variables for GNOME apps
env = GTK_THEME,Tahoe-Dark
env = GTK_USE_PORTAL,1
env = GTK_CSD,0
env = GTK_IM_MODULE,ibus
env = GTK_MODULES,gail:atk-bridge

# Additional GTK settings
env = GTK2_RC_FILES,$HOME/.gtkrc-2.0
env = GTK_RC_FILES,$HOME/.gtkrc-2.0
# Additional environment variables for better GNOME app performance
env = GIO_USE_VFS,local
env = GIO_EXTRA_MODULES,/usr/lib/x86_64-linux-gnu/gio/modules
env = GTK_A11Y,none
env = NO_AT_BRIDGE,1

# Disable GTK overlay scrolling to prevent freezes
env = GTK_OVERLAY_SCROLLING,0